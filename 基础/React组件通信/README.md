# React组件通信
## 父传子实现
`目标任务:` 实现父子通信中的父传子，把父组件中的数据传给子组件

**实现步骤**
1.  父组件提供要传递的数据  -  `state`
2.  给子组件标签`添加属性`值为 state中的数据 
3.  子组件中通过 `props` 接收父组件中传过来的数据 
  a. 类组件使用this.props获取props对象
  b. 函数式组件直接通过参数获取props对象

## props说明
`目标任务:`知道props传递时的一些注意事项
1.  props是只读对象（readonly）--和`Vue`一样
根据单项数据流的要求，子组件只能读取props中的数据，不能进行修改(谁的数据谁改)
2. props可以传递任意数据
数字、字符串、布尔值、数组、对象、`函数`、`JSX`
> JSX相当于Vue的插槽

## 子传父实现
`目标任务:`实现父子通信中的子传父

> **口诀：** 父组件给子组件传递回调函数，子组件调用

**实现步骤**
1. 父组件提供一个回调函数 - 用于接收数据
2. 将函数作为属性的值，传给子组件
3. 子组件通过props调用 回调函数
4. 将子组件中的数据作为参数传递给回调函数

## 兄弟组件通信
`目标任务:`实现兄弟组件之间的通信
**核心思路：** 通过状态提升机制，利用共同的父组件实现兄弟通信

**实现步骤**
1. 将共享状态提升到最近的公共父组件中，由公共父组件管理这个状态 
  - 提供共享状态
  - 提供操作共享状态的方法
2. 要接收数据状态的子组件通过 props 接收数据
3. 要传递数据状态的子组件通过props接收方法，调用方法传递数据

## 跨组件通信Context
> **类似于`Vue`的 `provide`和`inject`**
`目标任务:` 了解Context机制解决的问题和使用步骤

>上图是一个react形成的嵌套组件树，如果我们想从App组件向任意一个下层组件传递数据，该怎么办呢？目前我们能采取的方式就是一层一层的props往下传，显然很繁琐
>那么，Context 提供了一个无需为每层组件手动添加 props，就能在组件树间进行数据传递的方法

**实现步骤**
1. 创建Context对象 导出 Provider 和 Consumer对象 
```JavaScript
const { Provider, Consumer } = createContext()
```
 
2. 使用Provider包裹上层组件提供数据 
```JSX
<Provider value={this.state.message}>
    {/* 根组件 */}
</Provider>
```
 
3. 需要用到数据的组件使用Consumer包裹获取数据 
```JSX
<Consumer >
    {value => /* 基于 context 值进行渲染*/}
</Consumer>
```